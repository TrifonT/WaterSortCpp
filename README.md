# WaterSortCpp

This is a simple yet very fast solver for the Water Sort puzzle. It uses the a* algorithm to in order to find a solution. 
The heuristic function it uses in order to find the distance from the solved state is not perfect, therefore in some rate cases the solution found is not optimal - the one with the fewer steps.

## Example usage

```
main()
{
	// Initialize a new game with 12 colors, 2 empty bottles
	// Height of each bottle is 4
	game game(12, 2, 4);

	// Generate an initial random state
	state st = game.random_state(123);
	
  // Initialize parent node
	node initial(st, nullptr);

	// Solve the state and get the solution
	node sol = game.solve(initial);

	// Print all the steps to solution
	cout << game.get_history(sol) << endl;
}

```
Expected output:
```
|    |    |140B|4421|4632|5608|721B|7387|9623|9965|A1A5|A590|B0A3|B788|  0 38
|    |140B|2   |4421|463 |5608|721B|7387|9623|9965|A1A5|A590|B0A3|B788|  1 37
|    |140B|2   |4421|4633|5608|721B|7387|962 |9965|A1A5|A590|B0A3|B788|  2 36
|    |140B|22  |4421|4633|5608|721B|7387|96  |9965|A1A5|A590|B0A3|B788|  3 35
|140B|22  |4421|4633|560 |721B|7387|8   |96  |9965|A1A5|A590|B0A3|B788|  4 34
|140B|22  |4421|4633|560 |721B|7387|888 |96  |9965|A1A5|A590|B0A3|B7  |  5 33
|140B|22  |4421|4633|560 |721B|738 |888 |96  |9965|A1A5|A590|B0A3|B77 |  6 32
|140B|22  |4421|4633|560 |721B|73  |8888|96  |9965|A1A5|A590|B0A3|B77 |  7 31
|140B|22  |4421|46  |560 |721B|7333|8888|96  |9965|A1A5|A590|B0A3|B77 |  8 30
|140B|22  |4421|46  |5600|721B|7333|8888|96  |9965|A1A5|A59 |B0A3|B77 |  9 29
|140B|22  |4421|466 |5600|721B|7333|8888|9   |9965|A1A5|A59 |B0A3|B77 | 10 28
|    |140B|22  |4421|466 |5600|721B|7333|8888|9965|A1A5|A599|B0A3|B77 | 11 27
|140B|22  |3   |4421|466 |5600|721B|7333|8888|9965|A1A5|A599|B0A |B77 | 12 26
|140B|22  |3333|4421|466 |5600|7   |721B|8888|9965|A1A5|A599|B0A |B77 | 13 25
|    |140B|22  |3333|4421|466 |5600|721B|8888|9965|A1A5|A599|B0A |B777| 14 24
|00  |140B|22  |3333|4421|466 |56  |721B|8888|9965|A1A5|A599|B0A |B777| 15 23
|00  |140B|22  |3333|4421|4666|5   |721B|8888|9965|A1A5|A599|B0A |B777| 16 22
|00  |140B|22  |3333|4421|4666|55  |721B|8888|996 |A1A5|A599|B0A |B777| 17 21
|00  |140B|22  |3333|4421|4666|555 |721B|8888|996 |A1A |A599|B0A |B777| 18 20
|00  |140B|22  |3333|4421|4666|555 |721B|8888|996 |A1AA|A599|B0  |B777| 19 19
|000 |140B|22  |3333|4421|4666|555 |721B|8888|996 |A1AA|A599|B   |B777| 20 18
|000 |140 |22  |3333|4421|4666|555 |721B|8888|996 |A1AA|A599|B777|BB  | 21 17
|000 |140 |22  |3333|4421|4666|555 |721 |8888|996 |A1AA|A599|B777|BBB | 22 16
|000 |140 |22  |3333|442 |4666|555 |7211|8888|996 |A1AA|A599|B777|BBB | 23 15
|000 |140 |222 |3333|44  |4666|555 |7211|8888|996 |A1AA|A599|B777|BBB | 24 14
|0000|14  |222 |3333|44  |4666|555 |7211|8888|996 |A1AA|A599|B777|BBB | 25 13
|    |0000|1444|222 |3333|4666|555 |7211|8888|996 |A1AA|A599|B777|BBB | 26 12
|0000|1444|222 |3333|4   |555 |666 |7211|8888|996 |A1AA|A599|B777|BBB | 27 11
|0000|1   |222 |3333|4444|555 |666 |7211|8888|996 |A1AA|A599|B777|BBB | 28 10
|0000|1   |222 |3333|4444|555 |6666|7211|8888|99  |A1AA|A599|B777|BBB | 29  9
|0000|1   |222 |3333|4444|555 |6666|7211|8888|9999|A1AA|A5  |B777|BBB | 30  8
|0000|1   |222 |3333|4444|5555|6666|7211|8888|9999|A   |A1AA|B777|BBB | 31  7
|0000|1   |222 |3333|4444|5555|6666|7211|8888|9999|A1  |AAA |B777|BBB | 32  6
|0000|1   |222 |3333|4444|5555|6666|72  |8888|9999|A111|AAA |B777|BBB | 33  5
|0000|1   |2222|3333|4444|5555|6666|7   |8888|9999|A111|AAA |B777|BBB | 34  4
|0000|1   |2222|3333|4444|5555|6666|7777|8888|9999|A111|AAA |B   |BBB | 35  3
|    |0000|1   |2222|3333|4444|5555|6666|7777|8888|9999|A111|AAA |BBBB| 36  2
|    |0000|1111|2222|3333|4444|5555|6666|7777|8888|9999|A   |AAA |BBBB| 37  1
|    |    |0000|1111|2222|3333|4444|5555|6666|7777|8888|9999|AAAA|BBBB| 38  0
```
An alphabet is used to represent colors. When a state is created, it is sorted using this alphabet. This helps eliminate equivalent states, that is, states that differ only by the order of the bottles.


